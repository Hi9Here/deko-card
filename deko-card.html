<link rel="import" href="../paper-material/paper-material.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../iron-icon/iron-icon.html">

<!--
  `deko-card`
  @demo demo/index.html
-->

<dom-module id="deko-card">
  <template>
    <style>
      :host {display:inline-block}
      paper-material {
        background-color: #fafafa;
        color: #212121;
        height: 100%;
        width: 100%;
        margin: 5px;
        overflow: hidden;
        cursor: pointer;
        cursor: hand;
        border-radius: 7px;
      }
    </style>
    <paper-material elevation="1" style$="background:[[_bg]];color:[[_fg]]">
      [[card.html]]
    </paper-material>
  </template>
</dom-module>
<script>
  Polymer({
    is: "deko-card",
    properties: {
      icon: String,
      toolbarColor: String,
      _bg: {
        type: String,
        computed: "getBg(card.toolbarColor, card.title)",
      },
      _fg: {
        type: String,
        computed: "getFg(_bg)",
      },
    },
    getBg: function(color, title) {
      return color || Please.make_color({
        from_hash: title
      })
    },
    getFg: function(bg) {
      var c = bg.substring(1); // strip #
      var rgb = parseInt(c, 16); // convert rrggbb to decimal
      var r = (rgb >> 16) & 0xff; // extract red
      var g = (rgb >> 8) & 0xff; // extract green
      var b = (rgb >> 0) & 0xff; // extract blue
      var luma = 0.2126 * r + 0.7152 * g + 0.0722 * b; // per ITU-R BT.709
      if (luma > 128) {
        return "#000"
      } else {
        return "#FFF"
      }
    },
  })
</script>
